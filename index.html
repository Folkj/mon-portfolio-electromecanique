<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Interactif | Expert en Électromécanique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Industrial Slate -->
    <!-- Application Structure Plan: L'application est structurée comme un tableau de bord de compétences interactif plutôt qu'un document linéaire. Elle commence par une synthèse percutante, suivie d'une navigation thématique (Compétences, Études de cas, Impact). La section "Études de Cas" est le cœur de l'application, avec un système de filtrage dynamique par équipement et type d'intervention. Cette architecture permet à un recruteur ou un manager de cibler rapidement les réalisations les plus pertinentes pour ses besoins, transformant une lecture passive en une exploration active. Le flux est conçu pour guider l'utilisateur du "qui" (profil) au "quoi" (compétences) puis au "comment" (études de cas) et enfin au "pourquoi" (impact chiffré). -->
    <!-- Visualization & Content Choices: Les réalisations (S/T/A/R) sont présentées sous forme de cartes cliquables pour éviter un mur de texte. L'interaction principale est le filtrage et l'affichage des détails dans une modale, ce qui maintient l'interface propre. Pour les données quantitatives, un graphique à barres Chart.js a été choisi pour visualiser l'économie spectaculaire (-97.6%) sur les pièces Unifuges, ce qui est bien plus marquant qu'un simple texte. Les autres chiffres clés sont présentés dans des cartes de métriques pour un impact visuel immédiat. Ces choix soutiennent l'objectif de présenter un profil axé sur les résultats et l'efficacité. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-link::after {
            content: '';
            display: block;
            width: 0;
            height: 2px;
            background: #2563eb;
            transition: width .3s;
        }
        .nav-link:hover::after {
            width: 100%;
        }
        .modal {
            transition: opacity 0.25s ease;
            /* Correction pour assurer le centrage vertical/horizontal */
            display: flex; /* Assurer que flexbox est utilisé */
            align-items: center; 
            justify-content: center;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
        .filter-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #cbd5e1;
            border-radius: 9999px;
            background-color: white;
            color: #475569;
            font-weight: 500;
            transition: all 0.2s;
        }
        .filter-btn:hover {
            background-color: #f1f5f9;
            border-color: #94a3b8;
        }
        .filter-btn.active {
            background-color: #2563eb;
            color: white;
            border-color: #2563eb;
        }
    </style>
</head>
<body class="text-slate-700">

    <header class="bg-slate-800 text-white text-center py-12 px-4 shadow-xl">
        <h1 class="text-4xl md:text-5xl font-bold mb-2">Électromécanicien Industriel</h1>
        <p class="text-lg md:text-xl text-slate-300 max-w-3xl mx-auto">De la technique terrain à la gestion de projets : dépannage, fiabilisation, optimisation et sécurisation des processus industriels.</p>
    </header>

    <nav id="navbar" class="sticky top-0 bg-white/80 backdrop-blur-lg shadow-md z-50 transition-all duration-300">
        <div class="container mx-auto px-4">
            <div class="flex justify-center items-center h-16">
                <div class="flex space-x-8 text-sm md:text-base font-medium">
                    <a href="#profil" class="nav-link text-slate-600 hover:text-blue-600">Profil</a>
                    <a href="#competences" class="nav-link text-slate-600 hover:text-blue-600">Compétences Clés</a>
                    <a href="#etudes-de-cas" class="nav-link text-slate-600 hover:text-blue-600">Études de Cas</a>
                    <a href="#impact" class="nav-link text-slate-600 hover:text-blue-600">Impact Chiffré</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">

        <section id="profil" class="my-12 scroll-mt-24">
            <h2 class="text-3xl font-bold text-center text-slate-800 mb-4">Profil & Philosophie</h2>
            <p class="text-center max-w-4xl mx-auto text-slate-600 mb-8">Cette section présente la synthèse du profil professionnel, mettant en lumière l'état d'esprit orienté action et la double casquette de technicien expert et de pédagogue. Elle sert de fondation pour comprendre la démarche derrière les réalisations techniques présentées plus loin.</p>
            <div class="grid md:grid-cols-3 gap-8 text-center">
                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-xl font-semibold text-blue-600 mb-2">Expertise Terrain</h3>
                    <p>Spécialisé en isolateurs, équipements process et validation FAT/SAT. Axé sur la résolution rapide de pannes complexes et la continuité de production.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-xl font-semibold text-blue-600 mb-2">Prise de Décision</h3>
                    <p>Même face au doute, si une action est nécessaire et sûre, j'agis et j'assume la responsabilité pour éviter la dégradation par inaction. La sécurité reste la priorité absolue.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-xl font-semibold text-blue-600 mb-2">Pédagogie & Standardisation</h3>
                    <p>Je forme les équipes jusqu'à l'autonomie et rédige les SOP pour pérenniser les bonnes pratiques, sécuriser les interventions et accélérer les dépannages.</p>
                </div>
            </div>
        </section>

        <section id="competences" class="my-20 scroll-mt-24">
            <h2 class="text-3xl font-bold text-center text-slate-800 mb-4">Compétences Clés</h2>
            <p class="text-center max-w-4xl mx-auto text-slate-600 mb-8">Explorez les domaines d'expertise principaux. Ces compétences, allant de l'automatisme à la gestion de projet, forment le socle technique et méthodologique de toutes les interventions. Elles illustrent la capacité à opérer à la fois au niveau micro (le composant) et macro (le projet).</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-blue-500">
                    <h3 class="text-lg font-bold mb-2">Automatismes & Logique</h3>
                    <ul class="list-disc list-inside space-y-1 text-slate-600">
                        <li>Siemens S7-1200/300</li>
                        <li>Diagnostic avancé</li>
                        <li>Analyse d'interverrouillages</li>
                        <li>Sécurisation de logiques</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-blue-500">
                    <h3 class="text-lg font-bold mb-2">Intégrité des Enceintes</h3>
                    <ul class="list-disc list-inside space-y-1 text-slate-600">
                        <li>Tests fuite H₂ 5%/N₂</li>
                        <li>Expertise Isolateurs</li>
                        <li>Réglages mécaniques fins</li>
                        <li>Maintenance servomoteurs</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-blue-500">
                    <h3 class="text-lg font-bold mb-2">Mise en Service & Qualité</h3>
                    <ul class="list-disc list-inside space-y-1 text-slate-600">
                        <li>Checklists FAT/SAT</li>
                        <li>Tests fonctionnels</li>
                        <li>Requalification GMP</li>
                        <li>Gestion CAPA</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-blue-500">
                    <h3 class="text-lg font-bold mb-2">Gestion & Transfert</h3>
                     <ul class="list-disc list-inside space-y-1 text-slate-600">
                        <li>Pilotage mini-projets</li>
                        <li>Rédaction SOP</li>
                        <li>Formation des équipes</li>
                        <li>Coordination terrain</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="etudes-de-cas" class="my-20 scroll-mt-24">
            <h2 class="text-3xl font-bold text-center text-slate-800 mb-4">Études de Cas Interactives</h2>
            <p class="text-center max-w-4xl mx-auto text-slate-600 mb-8">Cette section regroupe des réalisations techniques et opérationnelles marquantes. Utilisez les filtres pour explorer des cas spécifiques par équipement ou par type d'intervention. Chaque carte représente une problématique concrète résolue, démontrant l'application pratique des compétences.</p>
            
            <div id="filters" class="flex flex-wrap justify-center gap-2 mb-8">
                <button class="filter-btn active" data-filter="all">Tous</button>
                <button class="filter-btn" data-filter="Isolateur">Isolateur</button>
                <button class="filter-btn" data-filter="Unifuge">Unifuge</button>
                <button class="filter-btn" data-filter="Périphérique">Périphérique</button>
                <button class="filter-btn" data-filter="Fuite">Fuite</button>
                <button class="filter-btn" data-filter="Logique">Logique</button>
                <button class="filter-btn" data-filter="Optimisation">Optimisation</button>
            </div>

            <div id="case-studies-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
            <!-- Conteneur pour le bouton 'Voir plus de cas' -->
            <div id="load-more-container" class="text-center mt-8">
                <button id="load-more-btn" class="hidden bg-blue-600 text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-blue-700 transition duration-300">
                    Voir plus de cas
                </button>
            </div>
        </section>

        <section id="impact" class="my-20 scroll-mt-24">
            <h2 class="text-3xl font-bold text-center text-slate-800 mb-4">Impact Chiffré & Projets</h2>
            <p class="text-center max-w-4xl mx-auto text-slate-600 mb-8">La valeur d'une intervention se mesure aussi par son impact financier et opérationnel. Cette section met en évidence les résultats quantifiables à travers des métriques clés et une visualisation de l'optimisation des coûts, ainsi que la portée des responsabilités en gestion de projet.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                
                <!-- Impact 1: > 150 M€ -->
                <!-- Changement: top-full devient -top-full (ou top-[calc(-100%-12px)]) pour positionner au-dessus. Le triangle doit pointer vers le bas. -->
                <div class="bg-blue-600 text-white p-6 rounded-lg shadow-lg text-center group relative cursor-help">
                    <div class="text-4xl font-bold">> 150 M€</div>
                    <div class="mt-2">Projets CAPEX gérés techniquement</div>
                    <div class="absolute z-10 bottom-full left-1/2 -translate-x-1/2 mb-3 p-3 w-64 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-opacity duration-300 pointer-events-none group-hover:opacity-100">
                        Supervision technique et participation aux FAT/SAT de nouveaux équipements, en support à l’ingénieur projet, lors du revamping d’un bâtiment de production.
                        <!-- Triangle du bas vers le haut -->
                        <div class="absolute top-full left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-800 transform rotate-45 origin-top-left -mt-1"></div>
                    </div>
                </div>
                <!-- Impact 2: > 200 000 € -->
                <div class="bg-slate-800 text-white p-6 rounded-lg shadow-lg text-center group relative cursor-help">
                    <div class="text-4xl font-bold">> 200 000 €</div>
                    <div class="mt-2">Perte produit évitée sur opération critique</div>
                    <div class="absolute z-10 bottom-full left-1/2 -translate-x-1/2 mb-3 p-3 w-64 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-opacity duration-300 pointer-events-none group-hover:opacity-100">
                        Intervention rapide et sécurisée sur un circuit d'eau de refroidissement critique pour des chambres froides, empêchant la perte d'un lot de production (bulk) sensible à la température.
                        <!-- Triangle du bas vers le haut -->
                        <div class="absolute top-full left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-800 transform rotate-45 origin-top-left -mt-1"></div>
                    </div>
                </div>

                <!-- Impact 3: -97,6% -->
                 <div class="bg-slate-800 text-white p-6 rounded-lg shadow-lg text-center group relative cursor-help">
                    <div class="text-4xl font-bold">-97,6%</div>
                    <div class="mt-2">Économie sur pièces de rechange (vs OEM)</div>
                    <div class="absolute z-10 bottom-full left-1/2 -translate-x-1/2 mb-3 p-3 w-64 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-opacity duration-300 pointer-events-none group-hover:opacity-100">
                        Qualification d'une solution de joint compatible IPA pour têtes de pompe Unifuges, réduisant le coût unitaire de 420€ (OEM) à 10€ (fournisseur alternatif).
                        <!-- Triangle du bas vers le haut -->
                        <div class="absolute top-full left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-800 transform rotate-45 origin-top-left -mt-1"></div>
                    </div>
                </div>

                <!-- Impact 4: < 2h -->
                <div class="bg-blue-600 text-white p-6 rounded-lg shadow-lg text-center group relative cursor-help">
                    <div class="text-4xl font-bold">&lt; 2h</div>
                    <div class="mt-2">Diagnostic sur panne externe non résolue</div>
                    <div class="absolute z-10 bottom-full left-1/2 -translate-x-1/2 mb-3 p-3 w-64 bg-slate-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-opacity duration-300 pointer-events-none group-hover:opacity-100">
                        Diagnostic ultra-rapide (moins de 2 heures) sur un défaut de coupe-fil sur une brodeuse industrielle, non résolu après plusieurs interventions externes coûteuses. Cause : capteur inductif desserré.
                        <!-- Triangle du bas vers le haut -->
                        <div class="absolute top-full left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-800 transform rotate-45 origin-top-left -mt-1"></div>
                    </div>
                </div>
            </div>
            <!-- <div class="bg-white p-6 rounded-lg shadow-xl border border-slate-200">
                <h3 class="text-xl font-semibold text-center text-slate-800 mb-4">Optimisation des Coûts : Cas des Joints Unifuges</h3>
                <p class="text-center text-slate-600 mb-4">Ce graphique illustre la réduction drastique du coût par pièce après analyse et qualification d'une solution alternative, passant de 420€ (fournisseur OEM) à 10€ (solution développée).</p>
                <div class="chart-container">
                    <canvas id="cost-chart"></canvas>
                </div>
            </div> -->
        </section>

    </main>

    <footer class="bg-slate-800 text-slate-300 text-center py-6">
        <p>&copy; 2025 Portfolio Interactif. La détermination fait la différence.</p>
    </footer>

    <div id="modal" class="modal fixed inset-0 bg-black bg-opacity-60 hidden p-4 z-50 opacity-0">
        <div id="modal-content" class="modal-content bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto transform scale-95">
            <div class="sticky top-0 bg-white border-b border-slate-200 p-4 flex justify-between items-center">
                <h3 id="modal-title" class="text-xl font-bold text-slate-800"></h3>
                <button id="modal-close" class="text-slate-500 hover:text-red-600">&times;</button>
            </div>
            <div id="modal-body" class="p-6">
            </div>
        </div>
    </div>
    <!-- Modal pour l'affichage des études de cas détaillées -->
    <div id="modal" class="modal fixed inset-0 bg-black bg-opacity-60 hidden p-4 z-50 opacity-0">
        <div id="modal-content" class="modal-content bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto transform scale-95">
            <div class="sticky top-0 bg-white border-b border-slate-200 p-4 flex justify-between items-center">
                <h3 id="modal-title" class="text-xl font-bold text-slate-800"></h3>
                <button id="modal-close" class="text-slate-500 hover:text-red-600 text-2xl font-light leading-none">&times;</button>
            </div>
            <div id="modal-body" class="p-6">
            </div>
        </div>
    </div>

    <script>
        const caseStudiesData = [
            {
                title: "Connecting Box — sécurisation gonflage joint de porte",
                category: ["Isolateur", "Logique", "Sécurité"],
                content: {
                    S: "En mode maintenance, le ventilateur doit tourner porte ouverte. Après fermeture, le joint se gonflait automatiquement sans commande → risque EHS et blocage HMI.",
                    T: "Empêcher tout gonflage si la fermeture mécanique n’est pas confirmée.",
                    A: "Reproduction scénario, analyse programme avec automaticien, ajout conditions d’interverrouillage, tests fonctionnels, CAPA déployée multi-actifs (GMP).",
                    R: "Comportement sécurisé validé, risque éliminé, standard logiciel mis à jour."
                }
            },
            {
                title: "Isolateurs — détection de fuites internalisée & formation",
                category: ["Isolateur", "Qualité", "Optimisation"],
                content: {
                    S: "Dépendance à une équipe spécialisée, délais longs pour les fuites.",
                    T: "Rendre le bâtiment et l’équipe de maintenance autonomes.",
                    A: "Choix/achat matériel H₂ 5%/N₂, procédures & check-lists, formation techniciens.",
                    R: "Temps de réaction réduit, coûts maîtrisés, contrôle qualité accru, appui à d’autres sites."
                }
            },
            {
                title: "Isolateur SKAN — clapet de sortie : fuite « invisible »",
                category: ["Isolateur", "Mécanique", "Fiabilité", "Fuite"],
                content: {
                    S: "Fuite non détectée par gaz traceur, défaut persistant.",
                    T: "Rétablir l’étanchéité et la répétabilité de fermeture.",
                    A: "Remplacement servomoteur usé, entretien préventif clapet (recalage/contrôles).",
                    R: "Étanchéité récupérée, réduction des dérives qualité et arrêts non planifiés."
                }
            },
            {
                title: "Isolateur SKAN — fuite > 0,5 L/min introuvable (Connecting Box)",
                category: ["Isolateur", "Diagnostic", "GMP", "Fuite"],
                content: {
                    S: "Fuite persistante malgré interventions internes et OEM, symptômes incohérents.",
                    T: "Diagnostiquer et éliminer la fuite.",
                    A: "Tests ciblés (~4 h), carte blanche sur équipement neuf GMP, démontage complet, mise en évidence d’une soudure de porte partielle, remontage provisoire en attendant réparation.",
                    R: "Réparation structurelle OEM, pannes évitées sur séries similaires, disponibilité accrue."
                }
            },
            {
                title: "Isolateur SKAN — fuite progressive après changement de filtre",
                category: ["Isolateur", "Maintenance", "Qualité", "Fuite"],
                content: {
                    S: "Fuite apparue après maintenance OEM planifiée.",
                    T: "Identifier la cause racine.",
                    A: "Contrôle assemblages, dépose filtres, découverte d’une entretoise doublée dans un joint (erreur remontage).",
                    R: "Remise en conformité immédiate."
                }
            },
            {
                title: "Isolateur SKAN — soudure défectueuse caisson de filtre",
                category: ["Isolateur", "Qualité", "Fabrication", "Fuite"],
                content: {
                    S: "Fuite limite depuis la construction, difficile à localiser (double paroi).",
                    T: "Localiser précisément le défaut.",
                    A: "Inspection visuelle + tests ciblés, traçage flux vers soudure double paroi.",
                    R: "Resoudage zone, renforcement contrôle qualité sur séries similaires."
                }
            },
            {
                title: "Diffusion savoir-faire — appui multi-bâtiments isolateurs",
                category: ["Isolateur", "Standardisation", "Mentorat"],
                content: {
                    S: "Sites voisins confrontés à incidents similaires.",
                    T: "Transférer le savoir-faire et fiabiliser leur parc.",
                    A: "Interventions ciblées, partage standards tests/détection, mentoring équipes.",
                    R: "Résolutions plus rapides, pratiques homogénéisées."
                }
            },
            {
                title: "Levmixer PALL — protection pesons au transport",
                category: ["Périphérique", "Conception", "Optimisation"],
                content: {
                    S: "Pesons souvent endommagés, blocage existant peu ergonomique avec outillage.",
                    T: "Concevoir un blocage simple, sûr, sans outil.",
                    A: "Pièce retrofit, prototypage et essais terrain, standardisation (≈150 unités).",
                    R: "Blocage manuel rapide, pesons protégés, manutention plus courte, risques réduits."
                }
            },
            {
                title: "SAS DPTE Getinge — plan de maintenance & retrofit",
                category: ["Maintenance", "Fiabilité", "Coûts", "Optimisation"],
                content: {
                    S: "Pas de plan précis, usure patins bronze, contact inox/inox, particules, risque blocage DPTE et détérioration portes (~20 k€).",
                    T: "Établir un plan efficace, sécuriser l’exploitation et optimiser coûts.",
                    A: "Co-définition opérations (Getinge), sous-traitance économique pour pièces, logistique enlèvement/reprise, remplacement patins + polissage encoches.",
                    R: "SAS fiabilisés, particules réduites, grippage prévenu, portes protégées, continuité & coûts optimisés."
                }
            },
            {
                title: "Poêle à pellets — maintenance corrective continue",
                category: ["Maintenance", "Électronique", "Sécurité", "Périphérique"],
                content: {
                    S: "Pannes successives (ventilateur, carte/sondes, résistance d’allumage).",
                    T: "Diagnostiquer rapidement et remettre en service durablement et à coût maîtrisé.",
                    A: "Contrôles ciblés, remplacements composants, vérifs électriques & sécurité combustion, consignes préventives.",
                    R: "Disponibilité rétablie à chaque panne, coûts contenus, méthode diag réutilisable."
                }
            },
            {
                title: "Brodeuse industrielle 7 têtes — coupe-fil non fonctionnel",
                category: ["Périphérique", "Mécatronique", "Logique", "Diagnostic"],
                content: {
                    S: "Défaut de coupe au changement de couleur, ~2 000 € déjà dépensés sans succès, représentant OEM peu disponible.",
                    T: "Rétablir l’automatisme de coupe-fil et sécuriser la production.",
                    A: "Méthodologie diag transférable (capteurs/cinématique). En <2 h : tests capteurs, capteur inductif hypersensible desserré identifié, repositionnement/sécurisation, cycle vérifié.",
                    R: "Reprise nominale (plus de coupe manuelle), temps récupéré, coûts évités."
                }
            },
            {
                title: "Volet roulant magasin — variateur équivalent & remise en service",
                category: ["Électrique", "Dépannage", "Approvisionnement"],
                content: {
                    S: "Volet à l’arrêt, prestataire préconise remplacement complet (~11 k€) car variateur « n’existe plus ». Défauts: contacteur puissance + alim commande.",
                    T: "Rétablir la marche sans remplacer l’ensemble, trouver variateur compatible.",
                    A: "Mesures & relevé schéma, confirmation défauts, recherche équivalence variateur, commande à l’étranger, adaptation câblage/paramétrage, mise en service < 1 semaine.",
                    R: "Marche rétablie, ~11 k€ évités, paramétrage/schémas documentés."
                }
            },
            {
                title: "Eau de refroidissement — intervention à risque (chambres froides)",
                category: ["Utilités", "Gestion de risque", "Production", "Sécurité"],
                content: {
                    S: "Coupure nécessaire vers chambres froides contenant du bulk (risque ≈ 200 k€).",
                    T: "Réaliser l’intervention en minimisant l’impact thermique et qualité.",
                    A: "Planification de nuit en hiver, coordination utilités/production/qualité, monitoring T°, plans de repli.",
                    R: "Zéro perte de bulk, retour nominal maîtrisé, REX documenté."
                }
            },
            {
                title: "Stock atelier « critique » — pièces de rechange urgentes",
                category: ["Spare Parts", "GMP", "Optimisation"],
                content: {
                    S: "Délais d’approvisionnement pénalisants sur équipements critiques, contraintes GMP.",
                    T: "Assurer disponibilité immédiate en conformité.",
                    A: "Sélection références critiques (BOM), min/max, référencement & réassort, stockage GMP, kits d’urgence atelier.",
                    R: "MTTR réduit, arrêts évités, conformité maintenue."
                }
            },
            {
                title: "Drive de ligne — déblocage logiciel / reprise rapide",
                category: ["Automatisme", "Dépannage", "Production", "Logique"],
                content: {
                    S: "Lexium Drive bloqué, risque de perte > 40 k€.",
                    T: "Relancer la production en sécurité et rapidement.",
                    A: "Diag, chargement d’un programme adapté, tests à vide puis en charge, validation prod/qualité.",
                    R: "Perte évitée, production relancée, actions préventives en place."
                }
            },
            {
                title: "Unifuges GS — formation maintenance & traduction EN→FR",
                category: ["Formation", "Standardisation", "Exploitation"],
                content: {
                    S: "Formation OEM en anglais, difficulté compréhension + absences.",
                    T: "Garantir compréhension et diffusion des bonnes pratiques.",
                    A: "Traduction simultanée, restitution aux absents, supports synthétiques (mémentos/check-lists).",
                    R: "Autonomie accrue, sollicitations support réduites, interventions standardisées."
                }
            },
            {
                title: "Unifuges GS — joints tête de pompe compatibles IPA",
                category: ["Matériaux", "Fiabilité", "Coûts", "Optimisation"],
                content: {
                    S: "Joints dégradés par nettoyages alcoolisés, particules noires, solution OEM ≈ 420 € pièce.",
                    T: "Éliminer particules, fiabiliser et réduire coût.",
                    A: "Matière résistante solvants qualifiée, fabrication à façon joints (dimensions exactes), correction jeu tête de pompe (~10 € / pièce).",
                    R: "Particules supprimées, MTBF augmentée, économie ~−97,6 %."
                }
            },
            {
                title: "Unifuges GS — carte détecteur de fuite (tête de pompe)",
                category: ["Électronique", "Réparation", "Délai", "Unifuge"],
                content: {
                    S: "Carte propriétaire ≈ 500 €, empêche démarrage.",
                    T: "Rétablir fonctionnement avec solution économique et rapide.",
                    A: "Analyse carte (≈10 composants discrets), identification pièces défaillantes, commande standard, remplacement & tests, mise en stock composants.",
                    R: "Carte remise en service, démarrage OK, coûts/délais bien inférieurs à l’OEM."
                }
            }
        ];

        document.addEventListener('DOMContentLoaded', function () {
            const grid = document.getElementById('case-studies-grid');
            const filtersContainer = document.getElementById('filters');
            const loadMoreBtn = document.getElementById('load-more-btn');
            const modal = document.getElementById('modal');
            const modalContent = document.getElementById('modal-content');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            const modalClose = document.getElementById('modal-close');

            const caseStudiesSection = document.getElementById('etudes-de-cas');
            const ITEMS_PER_PAGE = 6;
            let currentFilterData = [];
            let isFullListDisplayed = false;

            function renderCaseStudies(data, initialLoad = true) {
                grid.innerHTML = '';
                loadMoreBtn.classList.add('hidden');
                
                // Détermine combien de cartes afficher
                const limit = initialLoad ? ITEMS_PER_PAGE : data.length;
                
                data.slice(0, limit).forEach(study => {
                    const card = document.createElement('div');
                    card.className = 'case-study-card bg-white rounded-lg shadow-md p-5 border border-slate-200 cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300';
                    card.innerHTML = `
                        <h3 class="font-bold text-blue-600 mb-2">${study.title}</h3>
                        <p class="text-sm text-slate-500 mb-3">${study.content.S.substring(0, 80)}...</p>
                        <div class="flex flex-wrap gap-2">
                            ${study.category.map(cat => `<span class="text-xs font-medium bg-slate-100 text-slate-600 px-2 py-1 rounded-full">${cat}</span>`).join('')}
                        </div>
                    `;
                    card.addEventListener('click', () => openModal(study));
                    grid.appendChild(card);
                });
                
                // Affiche le bouton si le nombre total de cas est supérieur à la limite initiale
                if (data.length > ITEMS_PER_PAGE && initialLoad) {
                    loadMoreBtn.classList.remove('hidden');
                    isFullListDisplayed = false;
                } else {
                    loadMoreBtn.classList.add('hidden');
                    isFullListDisplayed = true;
                }
            }

            function filterAndRender(filter = 'all', initialLoad = true) {
                const filteredData = filter === 'all' 
                    ? caseStudiesData 
                    : caseStudiesData.filter(item => item.category.includes(filter));
                
                currentFilterData = filteredData;
                renderCaseStudies(currentFilterData, initialLoad);
            }

            function openModal(study) {
                modalTitle.textContent = study.title;
                modalBody.innerHTML = `
                    <div class="space-y-4">
                        <div><strong class="text-slate-800 block">Situation:</strong><p class="text-slate-600">${study.content.S}</p></div>
                        <div><strong class="text-slate-800 block">Tâche:</strong><p class="text-slate-600">${study.content.T}</p></div>
                        <div><strong class="text-slate-800 block">Action:</strong><p class="text-slate-600">${study.content.A}</p></div>
                        <div><strong class="text-slate-800 block">Résultat:</strong><p class="text-slate-600 font-semibold">${study.content.R}</p></div>
                    </div>
                `;
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    modalContent.classList.remove('scale-95');
                }, 10);
            }

            function closeModal() {
                modal.classList.add('opacity-0');
                modalContent.classList.add('scale-95');
                setTimeout(() => modal.classList.add('hidden'), 250);
            }

            filtersContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-btn')) {
                    document.querySelector('.filter-btn.active').classList.remove('active');
                    e.target.classList.add('active');
                    const filter = e.target.getAttribute('data-filter');
                    filterAndRender(filter, true); // Initial load (limité à 6) après filtre
                    
                    // Défilement centré sur la section après le filtrage
                    caseStudiesSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            });

            loadMoreBtn.addEventListener('click', () => {
                filterAndRender(document.querySelector('.filter-btn.active').getAttribute('data-filter'), false); // Charge la totalité
            });

            modalClose.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // const costChartCtx = document.getElementById('cost-chart').getContext('2d');
            // const costChart = new Chart(costChartCtx, {
            //     type: 'bar',
            //     data: {
            //         labels: ['Coût Pièce'],
            //         datasets: [{
            //             label: 'Solution OEM',
            //             data: [420],
            //             backgroundColor: 'rgba(100, 116, 139, 0.6)',
            //             borderColor: 'rgba(100, 116, 139, 1)',
            //             borderWidth: 1
            //         }, {
            //             label: 'Solution Optimisée',
            //             data: [10],
            //             backgroundColor: 'rgba(37, 99, 235, 0.6)',
            //             borderColor: 'rgba(37, 99, 235, 1)',
            //             borderWidth: 1
            //         }]
            //     },
            //     options: {
            //         responsive: true,
            //         maintainAspectRatio: false,
            //         scales: {
            //             y: {
            //                 beginAtZero: true,
            //                 ticks: {
            //                     callback: function(value) {
            //                         return value + '€'
            //                     }
            //                 }
            //             }
            //         },
            //         plugins: {
            //             legend: {
            //                 position: 'top',
            //             },
            //             tooltip: {
            //                  callbacks: {
            //                     label: function(context) {
            //                         let label = context.dataset.label || '';
            //                         if (label) {
            //                             label += ': ';
            //                         }
            //                         if (context.parsed.y !== null) {
            //                             label += new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR' }).format(context.parsed.y);
            //                         }
            //                         return label;
            //                     }
            //                 }
            //             }
            //         }
            //     }
            // });
            
            const navbar = document.getElementById('navbar');
            let lastScrollTop = 0;
            window.addEventListener('scroll', function() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                if (scrollTop > lastScrollTop) {
                    navbar.style.top = '-80px';
                } else {
                    navbar.style.top = '0';
                }
                lastScrollTop = scrollTop;
            });


            // Rendu initial
            filterAndRender('all', true);
            
            // Add active styles to filter buttons
            const style = document.createElement('style');
            style.innerHTML = `
                .filter-btn {
                    padding: 0.5rem 1rem;
                    border: 1px solid #cbd5e1;
                    border-radius: 9999px;
                    background-color: white;
                    color: #475569;
                    font-weight: 500;
                    transition: all 0.2s;
                }
                .filter-btn:hover {
                    background-color: #f1f5f9;
                    border-color: #94a3b8;
                }
                .filter-btn.active {
                    background-color: #2563eb;
                    color: white;
                    border-color: #2563eb;
                }
            `;
            document.head.appendChild(style);

        });
    </script>

</body>
</html>
